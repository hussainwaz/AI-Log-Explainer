/* Tailwind (v4 style single entry). Keep first for proper layer ordering. */
@import "tailwindcss";

/* ===================================================================
   THEME TOKENS
   -------------------------------------------------------------------
   Strategy:
   1. Light theme in :root (default)
   2. Dark theme override via [data-theme="dark"] attribute (manual toggle)
   3. Fallback to system preference with @media (if no explicit data-theme)
   4. Colors stored as spaceâ€‘separated RGB so we can use the same values in
      rgb(var(--token) / <alpha-value>) inside utility classes if needed.
   5. Provide high-contrast semantic role variants (e.g. --color-danger-fg)
   =================================================================== */
:root {
  /* Typography */
  --font-sans: var(--font-inter), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-mono: 'Fira Code', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

  /* Base (Light) */
  --color-bg: 246 248 252;
  /* #f6f8fc */
  --color-bg-alt: 255 255 255;
  /* #ffffff */
  --color-bg-accent: 239 244 255;
  /* subtle blue */
  --color-fg: 23 28 38;
  /* near black */
  --color-fg-muted: 92 102 122;
  /* muted text */
  --color-border: 209 215 226;
  /* light border */
  --color-border-strong: 172 182 198;

  /* Primary */
  --color-primary: 37 99 235;
  /* blue-600 */
  --color-primary-hover: 29 78 216;
  /* blue-700 */
  --color-primary-soft: 219 234 254;
  /* blue-100 */

  /* Semantic */
  --color-danger: 220 38 38;
  /* red-600 */
  --color-danger-bg: 254 226 226;
  /* red-100 */
  --color-danger-fg: 120 28 28;
  /* darker text for contrast */
  --color-warn: 202 138 4;
  /* amber-600 */
  --color-warn-bg: 254 243 199;
  /* amber-100 */
  --color-warn-fg: 113 63 18;
  --color-success: 22 163 74;
  /* green-600 */
  --color-success-bg: 220 252 231;
  /* green-100 */
  --color-success-fg: 5 46 22;

  /* Elevated Surfaces */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 10px -2px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 10px 18px -5px rgba(0, 0, 0, 0.15), 0 4px 8px -3px rgba(0, 0, 0, 0.06);

  /* Radii */
  --radius-sm: 4px;
  --radius: 8px;
  --radius-lg: 14px;
  --radius-full: 9999px;

  /* Motion */
  --ease: cubic-bezier(.4, .0, .2, 1);
  --transition: 140ms var(--ease);

  /* Misc */
  accent-color: rgb(var(--color-primary));
  color-scheme: light;
  /* Hint UA for form controls */
}

/* Manual dark mode toggle (preferred). Apply e.g. on <html data-theme="dark"> */
:root[data-theme="dark"],
[data-theme="dark"] :root {
  /* defensive */
  --color-bg: 15 17 23;
  --color-bg-alt: 28 32 42;
  --color-bg-accent: 32 41 59;
  --color-fg: 237 242 248;
  --color-fg-muted: 150 163 186;
  --color-border: 58 70 88;
  --color-border-strong: 92 105 126;

  --color-primary: 96 165 250;
  /* blue-400 */
  --color-primary-hover: 59 130 246;
  /* blue-500 */
  --color-primary-soft: 30 58 95;
  /* deep blue */

  --color-danger: 248 113 113;
  /* red-400 */
  --color-danger-bg: 69 26 26;
  /* red-900 */
  --color-danger-fg: 254 202 202;
  /* red-200 */
  --color-warn: 251 191 36;
  /* amber-400 */
  --color-warn-bg: 69 39 10;
  /* amber-900 */
  --color-warn-fg: 254 228 161;
  /* amber-200 */
  --color-success: 74 222 128;
  /* green-400 */
  --color-success-bg: 20 56 30;
  /* green-900 */
  --color-success-fg: 187 247 208;
  /* green-200 */

  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.25);
  --shadow-md: 0 4px 10px -2px rgba(0, 0, 0, 0.35), 0 2px 4px -2px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 10px 18px -5px rgba(0, 0, 0, 0.45), 0 4px 8px -3px rgba(0, 0, 0, 0.35);

  color-scheme: dark;
}

/* Fallback to system preference if no explicit data-theme */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --color-bg: 15 17 23;
    --color-bg-alt: 28 32 42;
    --color-bg-accent: 32 41 59;
    --color-fg: 237 242 248;
    --color-fg-muted: 150 163 186;
    --color-border: 58 70 88;
    --color-border-strong: 92 105 126;

    --color-primary: 96 165 250;
    --color-primary-hover: 59 130 246;
    --color-primary-soft: 30 58 95;

    --color-danger: 248 113 113;
    --color-danger-bg: 69 26 26;
    --color-danger-fg: 254 202 202;
    --color-warn: 251 191 36;
    --color-warn-bg: 69 39 10;
    --color-warn-fg: 254 228 161;
    --color-success: 74 222 128;
    --color-success-bg: 20 56 30;
    --color-success-fg: 187 247 208;

    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.25);
    --shadow-md: 0 4px 10px -2px rgba(0, 0, 0, 0.35), 0 2px 4px -2px rgba(0, 0, 0, 0.25);
    --shadow-lg: 0 10px 18px -5px rgba(0, 0, 0, 0.45), 0 4px 8px -3px rgba(0, 0, 0, 0.35);

    color-scheme: dark;
  }
}

/* ===================================================================
   BASE STYLES
   =================================================================== */
* {
  box-sizing: border-box;
}

body {
  font-family: var(--font-sans);
  font-size: 0.875rem;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Remove list markers from summary elements */
details summary {
  list-style: none;
}
details summary::-webkit-details-marker {
  display: none;
}